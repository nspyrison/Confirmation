---
chapter: 3
knit: "bookdown::render_book"
---

```{r setup_03_chap, include=FALSE}
knitr::opts_chunk$set(
  fig.align = "center",
  echo = TRUE, 
  message = FALSE,
  warning = FALSE,
  error = FALSE,
  collapse = TRUE,
  comment = "",
  cache = FALSE, 
  cache.lazy = FALSE
)
```

# Work in progress {#ch:workinprogress}

Extending the algorithm for UCS in 2D for generalized use in graphics environments is fundamental to the extension of the UCS into 3D space. This forms the foundation for future work addressed in the remaining research objectives. This is a synthesis of the work that will be submitted to the R Journal. A wider discussion of implementation as an *R* package and application to high energy physics data [@wang_visualizing_2018; @cook_dynamical_2018] is attached in appendix \ref{ch:spinifex} formatted as a paper.

## RO #1) How can UCS be generalized to work within graphic-specific environments for 2D projections?

This chapter builds off of *manual tours* [@cook_manual_1997] and modifies the algorithm for generalized use in graphics implementations. Manual tours allow users to rotate a selected variable into and out of a 2D projection of high-dimensional space for user-controlled steering (UCS). The primary use is to determine the sensitivity of the structure to the contributions of a selected manipulation variable. This is particularly useful once a feature of interest has been identified, for example, by a guided tour. 


## Algorithm {#sec:wip_algorithm}

The algorithm for generating a manual tour path involves these steps:

1. Given a 2D projection basis, choose a variable to explore. This is called the "manip" variable.
2. Create a 3D manipulation space, where the manip variable has a full contribution.
3. Generate a rotation sequence which zeros coefficient and increases it to 1 before returning to the initial position.

### Step 1 Choose variable of interest

Start with multivariate data in an $n \times p$ numeric matrix, and an orthonormal (orthogonal and each column normalized to have a norm of 1) $p \times d$ basis set is describing the projection from $p-$ to $d-$space. Select a manipulation (manip) variable. The coefficients of this variable will be operated on.


### Step 2 Create the manip space

A fully 3D space is created, using the Gram-Schmidt process, within which to rotate the manip variable into and out of the projection plane.  The new dimension giving the basis the freedom to rotate 'out-of-plane', akin to being able to lift a piece of paper, rather than being confined to the top of a table. 

### Step 3 Generate rotation

Generate an animation sequence of 2D projection matrices that fully rotates the manip variable into and out of the projection. The sequence can be passed to any graphics rendering to display the projected data.


## Display projection sequence

A 2D projection of the 3D manip space is generated by multiplying the data matrix by a projection matrix. The algorithm needs only one copy of the data, and the sequence of projection matrices, to generate the data animation. The 2D projected data is currently displayed as a scatterplot, but alternative choices like a contour plot of the bivariate density could be easily substituted.

